<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>EZADO ‚Äî Shoe Cleaner</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
  <style>
    :root{
      --green:#27ae60;
      --green-dark:#219150;
      --bg:#f7f7f7;
      --muted:#6b7280;
    }
    html{scroll-behavior:smooth}
    body{margin:0;font-family:Inter, Arial, sans-serif;color:#222;background:linear-gradient(#fdfdfd,#f0f0f0);-webkit-font-smoothing:antialiased}
    a{color:inherit}

    /* NAV */
    nav{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:rgba(44,62,80,.95);color:#fff;position:sticky;top:0;z-index:1000;box-shadow:0 4px 18px rgba(0,0,0,.08)}
    .logo{font-weight:800;font-size:1.1rem;letter-spacing:.6px}
    nav ul{display:flex;gap:14px;list-style:none;margin:0;padding:0;align-items:center}
    nav ul li a{color:#fff;text-decoration:none;font-weight:500;font-size:.95rem;opacity:.95}
    nav ul li a:hover{color:var(--green)}
    .nav-actions{display:flex;gap:12px;align-items:center}
    .icon-btn{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:8px;background:transparent;border:0;cursor:pointer;transition:transform .16s ease,box-shadow .16s ease,background .16s ease}
    .icon-btn svg{width:20px;height:20px;display:block}
    .icon-btn:hover{transform:translateY(-3px) scale(1.03);box-shadow:0 6px 18px rgba(0,0,0,.14)}
    .hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer}
    .hamburger span{width:22px;height:3px;background:#fff;border-radius:3px}
    @media(max-width:768px){nav ul{display:none;position:absolute;top:58px;right:12px;width:220px;background:#0e1113;padding:12px;border-radius:8px;flex-direction:column}nav ul.active{display:flex}.hamburger{display:flex}}

    /* HERO */
    .hero{position:relative;height:360px;display:flex;align-items:center;justify-content:center;overflow:hidden;color:#fff;margin:0}
    .hero-img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;z-index:0;animation:hero-breathe 16s ease-in-out infinite;transition:opacity .35s ease}
    .hero::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.33));z-index:1;pointer-events:none}
    .hero-content{position:relative;z-index:2;text-align:center;padding:16px;width:100%;max-width:1100px}
    .hero h1{font-size:clamp(26px,4vw,44px);margin:0 0 8px;line-height:1.05}
    .hero p{margin:0 0 12px;color:#f4f6f5}
    .btn{background:var(--green);color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:600;box-shadow:0 8px 24px rgba(39,174,96,.12);display:inline-block}
    .btn:hover{background:var(--green-dark);transform:translateY(-2px)}
    @keyframes hero-breathe{0%{transform:scale(1)}25%{transform:scale(1.035)}50%{transform:scale(1.02)}75%{transform:scale(1.045)}100%{transform:scale(1)}}
    .hero-img.fade-out{opacity:0}

    /* Section */
    section{padding:40px 14px;text-align:center}
    section h2{font-size:1.6rem;margin:0 0 16px;color:#222}

    /* CAROUSEL */
    .carousel-wrap{max-width:1100px;margin:6px auto 0 auto;overflow:hidden;padding:6px 8px 14px;position:relative}
    .carousel-track{display:flex;gap:14px;transition:transform .45s cubic-bezier(.22,.9,.37,1);will-change:transform;align-items:stretch}
    .carousel-item{position:relative;flex:0 0 auto;width:calc(100%/3 - 10px);background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 6px 12px rgba(0,0,0,.06);transition:opacity .28s ease}
    .img-wrap{height:240px;display:flex;align-items:center;justify-content:center;background:var(--bg);padding:8px;overflow:hidden}
    .carousel-item img{width:100%;height:100%;object-fit:cover;border-radius:6px;cursor:pointer;transition:transform .35s ease,filter .35s ease;display:block}
    .meta{padding:10px 12px;text-align:left;font-size:.94rem;color:#333}
    .carousel-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.55);border:none;color:#fff;width:34px;height:34px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10;font-size:18px}
    .carousel-btn.left{left:8px}.carousel-btn.right{right:8px}.carousel-btn:hover{background:rgba(0,0,0,.7)}
    .carousel-dots{margin-top:12px;display:flex;gap:8px;justify-content:center}
    .carousel-dots button{width:10px;height:10px;border-radius:50%;border:0;background:#e0e0e0;cursor:pointer}
    .carousel-dots button.active{background:var(--green)}
    @media(max-width:900px){.carousel-item{width:calc(100%/2 - 12px)}.img-wrap{height:200px}}
    @media(max-width:580px){.carousel-item{width:100%}.carousel-btn{width:30px;height:30px;font-size:15px}.img-wrap{height:180px}}

    /* reveal */
    .carousel-item::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.02));pointer-events:none;transition:opacity .25s ease,transform .25s ease;opacity:0;transform:scale(1);z-index:2}
    .carousel-item.revealing{opacity:.78}
    .carousel-item.revealing::after{opacity:1;background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(0,0,0,.04));transform:scale(1.02)}
    .carousel-item.revealing img{transform:scale(1.07);filter:saturate(1.05) contrast(1.03)}

    /* FEATURES (4 cards) */
    .features-grid{max-width:1000px;margin:6px auto 0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;padding:0 12px;align-items:start}
    .feature-card{background:#fff;border-radius:12px;padding:14px;box-shadow:0 8px 20px rgba(0,0,0,.06);display:flex;gap:12px;align-items:flex-start;transition:transform .24s ease,box-shadow .24s ease}
    .feature-card:hover{transform:translateY(-6px);box-shadow:0 12px 26px rgba(0,0,0,.08)}
    .feature-icon{min-width:44px;min-height:44px;border-radius:8px;background:linear-gradient(135deg,var(--green),var(--green-dark));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:16px}
    .feature-content h3{margin:0 0 6px 0;font-size:1rem}.feature-content p{margin:0;color:#555;font-size:.95rem}
    @media (max-width:480px){.features-grid{justify-items:center}.feature-card{width:100%;max-width:420px}}

    /* METRICS (4 metrics) */
    .metrics{max-width:1000px;margin:18px auto 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;padding:0 12px 28px}
    .metric{background:#fff;border-radius:12px;padding:12px;box-shadow:0 8px 16px rgba(0,0,0,.04);display:flex;gap:10px;align-items:center}
    .ring{width:64px;height:64px;flex:0 0 64px;display:flex;align-items:center;justify-content:center;position:relative}
    .metric svg{width:64px;height:64px;transform:rotate(-90deg)}
    .metric circle.bg{fill:none;stroke:#eee;stroke-width:7}
    .metric circle.fg{fill:none;stroke:var(--green);stroke-width:7;stroke-linecap:round;stroke-dasharray:0 999;transition:stroke-dashoffset .9s ease}
    .value{font-size:1rem;font-weight:700;color:#222;line-height:1}.label{font-size:.86rem;color:#666}

    /* FOOTER */
    footer{background:#0f1720;color:#e6eef0;padding:22px 14px;margin-top:18px}
    .footer-inner{max-width:1100px;margin:0 auto;display:flex;gap:24px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
    .footer-brand{display:flex;flex-direction:column;gap:8px;min-width:240px}
    .footer-brand .logo{color:#fff;font-size:1.05rem}
    .footer-contacts{display:flex;flex-direction:column;gap:6px}
    .footer-links{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .footer-links a{color:#e6eef0;text-decoration:none;font-size:.95rem;opacity:.95}
    .social-row{display:flex;gap:10px;align-items:center}
    .social-btn{width:40px;height:40px;border-radius:8px;border:0;display:inline-flex;align-items:center;justify-content:center;background:#0b1220;cursor:pointer;transition:transform .16s ease}
    .social-btn svg{width:20px;height:20px}
    .social-btn:hover{transform:translateY(-3px)}

    /* Footer collapse behavior: on smaller screens show stacked centered layout,
       on medium screens show two columns, on large screens three columns */
    @media (max-width:880px) {
      .footer-inner { display: grid; grid-template-columns: 1fr; gap: 14px; text-align: center; align-items: center; }
      .footer-brand, .footer-contacts, .social-row { align-items: center; justify-content: center; }
    }
    @media (min-width:881px) and (max-width:1100px) {
      .footer-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; align-items:start; }
      .footer-brand { justify-self:start; }
      .social-row { justify-self:end; }
    }

    /* ACCESSIBILITY */
    button:focus,img:focus{outline:3px solid rgba(39,174,96,.14);outline-offset:3px}
  </style>
</head>
<body>
  <nav>
    <div class="logo">EZADO</div>

    <ul id="menu" role="menubar">
      <li><a href="#">Home</a></li>
      <li><a href="#features">Features</a></li>
      <li><a href="#gallery">Gallery</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>

    <div class="nav-actions">
      <button class="icon-btn" aria-label="Cart" title="Cart">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 3h2l1 4h13l-2 8H8L6 6H4" stroke="#2b2b2b" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="#fff"/>
          <circle cx="10" cy="20" r="1.6" fill="#ffb24d"/>
          <circle cx="18" cy="20" r="1.6" fill="#ffb24d"/>
        </svg>
      </button>

      <button class="icon-btn" aria-label="Profile" title="Profile">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="8" r="3" fill="#7ee3b8" />
          <path d="M4 20c1.8-4 6-6 8-6s6.2 2 8 6" stroke="#1b5e3a" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </button>

      <div class="hamburger" id="hamburger" aria-label="Toggle menu" role="button" tabindex="0">
        <span></span><span></span><span></span>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero" id="heroSection">
    <img class="hero-img" id="heroImg" data-bg="./static/images/background.png" src="./static/images/background.png" alt="EZADO product hero">
    <div class="hero-content">
      <h1>EZADO</h1>
      <p>Keep your sneakers fresh & spotless in minutes.</p>
      <a class="btn" href="./purchase page/purchase.html">Buy Now</a>
    </div>
  </header>

  <!-- GALLERY -->
  <section id="gallery">
    <h2>See It in Action</h2>
    <div class="carousel-wrap" id="mainCarousel" aria-label="Gallery carousel">
      <button class="carousel-btn left" id="carouselPrev" aria-label="Previous slide">&#10094;</button>
      <div class="carousel-track" id="carouselTrack" tabindex="0">
        <div class="carousel-item"><div class="img-wrap"><img src="./static/images/background.png" alt="Product"></div><div class="meta">Our premium shoe cleaner in hand.</div></div>
        <div class="carousel-item"><div class="img-wrap"><img src="./static/images/materials.png" alt="Materials"></div><div class="meta">Cleans leather, canvas, mesh & more.</div></div>
        <div class="carousel-item"><div class="img-wrap"><img src="./static/images/befor.png" alt="Before After"></div><div class="meta">Instant transformation ‚Äì before & after.</div></div>
        <div class="carousel-item"><div class="img-wrap"><img src="./static/images/instruct.png" alt="Kit"></div><div class="meta">Cleaner + Brush combo for deep cleaning.</div></div>
        <div class="carousel-item"><div class="img-wrap"><img src="./static/images/combo offer.png" alt="Bundle"></div><div class="meta">Bulk offers available ‚Äì save more!</div></div>
      </div>
      <button class="carousel-btn right" id="carouselNext" aria-label="Next slide">&#10095;</button>
      <div class="carousel-dots" id="carouselDots" aria-hidden="false"></div>
    </div>
  </section>

  <!-- FEATURES (4 cards) -->
  <section id="features">
    <h2>Why Choose Us?</h2>
    <div class="features-grid" role="list">
      <div class="feature-card" role="listitem" data-aos="fade-up">
        <div class="feature-icon">F</div>
        <div class="feature-content"><h3>Fast Cleaning</h3><p>Just spray and wipe ‚Äî fast results without scrubbing for hours.</p></div>
      </div>

      <div class="feature-card" role="listitem" data-aos="fade-up" data-aos-delay="80">
        <div class="feature-icon">S</div>
        <div class="feature-content"><h3>Safe Formula</h3><p>Gentle on fabric & leather ‚Äî keeps your shoes looking new.</p></div>
      </div>

      <div class="feature-card" role="listitem" data-aos="fade-up" data-aos-delay="160">
        <div class="feature-icon">E</div>
        <div class="feature-content"><h3>Eco Friendly</h3><p>Made with biodegradable ingredients ‚Äî better for you and the planet.</p></div>
      </div>

      <div class="feature-card" role="listitem" data-aos="fade-up" data-aos-delay="240">
        <div class="feature-icon">D</div>
        <div class="feature-content"><h3>Deep Care</h3><p>Includes brush and protectant options for lasting finish and fabric safety.</p></div>
      </div>
    </div>

    <!-- METRICS (4) -->
    <div class="metrics" id="trustMetrics" aria-live="polite">
      <div class="metric" role="group" aria-label="Customer rating">
        <div class="ring" aria-hidden="true">
          <svg viewBox="0 0 100 100"><circle class="bg" cx="50" cy="50" r="40"></circle><circle class="fg" cx="50" cy="50" r="40"></circle></svg>
        </div>
        <div class="text"><div class="value" data-target="96" data-format="percent">0%</div><div class="label">Average Rating (4.8/5)</div></div>
      </div>

      <div class="metric" role="group" aria-label="Shoes cleaned">
        <div class="ring" aria-hidden="true">
          <svg viewBox="0 0 100 100"><circle class="bg" cx="50" cy="50" r="40"></circle><circle class="fg" cx="50" cy="50" r="40"></circle></svg>
        </div>
        <div class="text"><div class="value" data-target="1200000" data-format="int">0</div><div class="label">Shoes Cleaned</div></div>
      </div>

      <div class="metric" role="group" aria-label="Happy customers">
        <div class="ring" aria-hidden="true">
          <svg viewBox="0 0 100 100"><circle class="bg" cx="50" cy="50" r="40"></circle><circle class="fg" cx="50" cy="50" r="40"></circle></svg>
        </div>
        <div class="text"><div class="value" data-target="95" data-format="percent">0%</div><div class="label">Happy Customers</div></div>
      </div>

      <div class="metric" role="group" aria-label="Return rate">
        <div class="ring" aria-hidden="true">
          <svg viewBox="0 0 100 100"><circle class="bg" cx="50" cy="50" r="40"></circle><circle class="fg" cx="50" cy="50" r="40"></circle></svg>
        </div>
        <div class="text"><div class="value" data-target="2" data-format="percent">0%</div><div class="label">Return Rate</div></div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact">
    <div class="footer-inner">
      <div class="footer-brand">
        <div class="logo">EZADO</div>
        <div style="color:var(--muted);max-width:320px">Premium shoe cleaner ‚Äî effective, gentle and eco-friendly. Fast shipping across India.</div>
      </div>

      <div class="footer-contacts">
        <div style="font-weight:700;color:#fff">Contact</div>
        <div class="footer-links">
          <a href="tel:+919876543210">üìû +91 98765 43210</a>
          <a href="mailto:info@ezado.com">‚úâÔ∏è info@ezado.com</a>
        </div>
      </div>

      <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
        <div style="font-weight:700;color:#fff">Follow</div>
        <div class="social-row" role="navigation" aria-label="Social media">
          <button class="social-btn" aria-label="Facebook" title="Facebook">
            <svg viewBox="0 0 24 24" fill="none"><path d="M15 3h3v4h-3v2h3v8h-4v-8h-2v-2h2V6.5C14 5 15 3 15 3z" fill="#1877F2"/></svg>
          </button>
          <button class="social-btn" aria-label="Instagram" title="Instagram">
            <svg viewBox="0 0 24 24" fill="none"><rect x="4" y="4" width="16" height="16" rx="4" fill="url(#ig)"/><defs><linearGradient id="ig" x1="0" x2="1"><stop offset="0" stop-color="#feda75"/><stop offset="0.5" stop-color="#d62976"/><stop offset="1" stop-color="#515bd4"/></linearGradient></defs></svg>
          </button>
          <button class="social-btn" aria-label="Twitter" title="Twitter">
            <svg viewBox="0 0 24 24" fill="none"><path d="M20 7.5c-.6.3-1.2.5-1.9.6.7-.4 1.2-1 1.5-1.7-.6.4-1.3.7-2 .9C16.6 6.6 15.6 6 14.4 6c-1.8 0-3.2 1.5-3.2 3.3 0 .3 0 .6.1.9C7.8 9.9 5 8.1 3 5.6c-.3.6-.5 1.4-.5 2.1 0 1.4.7 2.6 1.7 3.3-.5 0-1-.2-1.5-.4v.1c0 1.9 1.4 3.5 3.3 3.9-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3 2.3C10.1 19 8.8 19.7 7.4 19.7c-.6 0-1.1 0-1.6-.1C6 21 8 22 10.2 22c6.1 0 9.4-5.1 9.4-9.5v-.4C19.8 8.7 20 8.1 20 7.5z" fill="#1DA1F2"/></svg>
          </button>
          <button class="social-btn" aria-label="YouTube" title="YouTube">
            <svg viewBox="0 0 24 24" fill="none"><path d="M23 7.5s-.2-1.7-.8-2.4c-.7-.9-1.5-.9-1.9-1C17.6 3.8 12 3.8 12 3.8s-5.7 0-8.3.3c-.4 0-1.3 0-1.9 1C1.2 5.8 1 7.5 1 7.5S1 9.6 1 11.8v.4c0 2.2.1 4.3.1 4.3s.2 1.7.8 2.4c.7.9 1.6.9 2 1 1.4.2 6.1.3 6.1.3s5.7 0 8.3-.3c.4 0 1.3 0 1.9-1 .6-.7.8-2.4.8-2.4s.1-2.2.1-4.4v-.4c0-2.2-.1-4.3-.1-4.3z" fill="#FF0000"/><path d="M10 15.5l5-3.3-5-3.2z" fill="#fff"/></svg>
          </button>
        </div>
      </div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>
    AOS.init({ duration: 800, once: true });

    (function () {
      const hamburger = document.getElementById('hamburger');
      const menu = document.getElementById('menu');
      const wrap = document.getElementById('mainCarousel');
      const track = document.getElementById('carouselTrack');
      const prevBtn = document.getElementById('carouselPrev');
      const nextBtn = document.getElementById('carouselNext');
      const dotsWrap = document.getElementById('carouselDots');
      const metricContainer = document.getElementById('trustMetrics');
      const heroImg = document.getElementById('heroImg');

      // navbar toggle
      hamburger?.addEventListener('click', () => menu?.classList.toggle('active'));

      // setHero helper
      window.setHero = (src) => {
        if (!heroImg) return;
        heroImg.classList.add('fade-out');
        setTimeout(() => { heroImg.src = src; heroImg.dataset.bg = src; void heroImg.offsetWidth; heroImg.classList.remove('fade-out'); }, 260);
      };

      // CAROUSEL core
      let items = Array.from(track.children);
      let index = 0;
      let slidesToShow = 3;
      let slideWidth = 0;
      let autoplayTimer = null;
      const AUTOPLAY_DELAY = 3000;
      const VELOCITY_THRESHOLD = 0.45;

      function computeSlides() {
        const w = window.innerWidth;
        return w <= 580 ? 1 : w <= 900 ? 2 : 3;
      }

      function layout() {
        items = Array.from(track.children);
        slidesToShow = computeSlides();
        if (!items[0]) return;
        items.forEach(it => it.style.width = `calc(100% / ${slidesToShow} - 12px)`);
        slideWidth = items[0].getBoundingClientRect().width + 14;
        index = Math.min(index, Math.max(0, items.length - slidesToShow));
        moveTo(index, false);
        renderDots();
      }

      function moveTo(i, animate = true) {
        const max = Math.max(0, items.length - slidesToShow);
        if (i > max) i = 0;
        if (i < 0) i = max;
        index = i;
        track.style.transition = animate ? '' : 'none';
        track.style.transform = `translateX(${-index * slideWidth}px)`;
        updateDots();
        if (!animate) void track.offsetWidth;
      }

      prevBtn?.addEventListener('click', () => { moveTo(index - 1); restartAutoplay(); });
      nextBtn?.addEventListener('click', () => { moveTo(index + 1); restartAutoplay(); });

      function renderDots() {
        dotsWrap.innerHTML = '';
        const pages = Math.max(1, items.length - slidesToShow + 1);
        for (let i = 0; i < pages; i++) {
          const b = document.createElement('button');
          b.type = 'button';
          b.addEventListener('click', () => { moveTo(i); restartAutoplay(); });
          dotsWrap.appendChild(b);
        }
        updateDots();
      }
      function updateDots() {
        const dots = Array.from(dotsWrap.children);
        dots.forEach(d => d.classList.remove('active'));
        if (dots[index]) dots[index].classList.add('active');
      }
      function startAutoplay() { stopAutoplay(); autoplayTimer = setInterval(() => moveTo(index + 1), AUTOPLAY_DELAY); }
      function stopAutoplay() { if (autoplayTimer) { clearInterval(autoplayTimer); autoplayTimer = null; } }
      function restartAutoplay() { stopAutoplay(); startAutoplay(); }

      // drag with velocity
      (function dragSetup() {
        let startX=0, startTime=0, dragging=false;
        track.addEventListener('pointerdown', e => {
          dragging=true; startX=e.clientX; startTime=performance.now(); track.style.transition='none'; stopAutoplay(); track.setPointerCapture(e.pointerId);
        });
        track.addEventListener('pointermove', e => { if(!dragging) return; const dx=e.clientX-startX; track.style.transform = `translateX(${-index * slideWidth + dx}px)`; });
        track.addEventListener('pointerup', e => {
          if(!dragging) return;
          const dx=e.clientX-startX; const dt=performance.now()-startTime; const velocity = Math.abs(dx)/Math.max(1,dt);
          let move=0;
          if (velocity > VELOCITY_THRESHOLD) move = Math.min(2, Math.floor(velocity / VELOCITY_THRESHOLD));
          else if (Math.abs(dx) > slideWidth * 0.35) move = 1;
          moveTo(dx < 0 ? index + move : index - move);
          dragging=false;
          try{ track.releasePointerCapture(e.pointerId); }catch{}
          restartAutoplay();
        });
        track.addEventListener('pointercancel', ()=>{ dragging=false; restartAutoplay(); });
      })();

      ['mouseenter','focusin'].forEach(evt => wrap.addEventListener(evt, stopAutoplay));
      ['mouseleave','focusout'].forEach(evt => wrap.addEventListener(evt, startAutoplay));

      // Reveal-on-click only (no lightbox). For accessibility we also allow Enter/Space.
      function initRevealOnly() {
        items = Array.from(track.children);
        const images = items.map(it => it.querySelector('img')).filter(Boolean);

        // click delegated
        track.addEventListener('click', e => {
          const img = e.target.closest('img');
          if (!img) return;
          const item = img.closest('.carousel-item');
          if (!item) return;
          item.classList.add('revealing');
          setTimeout(() => item.classList.remove('revealing'), 380);
        });

        // keyboard support
        track.addEventListener('keydown', e => {
          const el = e.target;
          if (!(el instanceof HTMLImageElement)) return;
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const item = el.closest('.carousel-item');
            if (!item) return;
            item.classList.add('revealing');
            setTimeout(() => item.classList.remove('revealing'), 380);
          }
        });

        // make images focusable for keyboard users
        images.forEach(img => img.setAttribute('tabindex', '0'));
      }

      // Metrics animation
      function initMetrics() {
        if (!metricContainer) return;
        const metricEls = Array.from(metricContainer.querySelectorAll('.metric'));
        const easeOutCubic = t => 1 - Math.pow(1 - t, 3);
        function formatNumber(n) { return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); }
        function animateCount(el, from, to, dur, format) {
          const start = performance.now();
          (function tick(now){
            const t = Math.min(1, (now - start) / dur);
            const v = Math.round(from + (to - from) * easeOutCubic(t));
            if (format === 'percent') el.textContent = v + '%';
            else if (format === 'int') el.textContent = formatNumber(v);
            else el.textContent = v;
            if (t < 1) requestAnimationFrame(tick);
          })(start);
        }
        function animateRing(el, percent, dur) {
          const circle = el.querySelector('circle.fg'); if (!circle) return;
          const r = circle.r.baseVal.value; const c = 2 * Math.PI * r;
          circle.setAttribute('stroke-dasharray', `${c} ${c}`);
          const start = performance.now();
          (function tick(now){
            const t = Math.min(1, (now - start) / dur);
            const eased = easeOutCubic(t);
            const offset = c * (1 - (percent * eased / 100));
            circle.style.strokeDashoffset = offset;
            if (t < 1) requestAnimationFrame(tick);
          })(start);
        }
        function trigger() {
          metricEls.forEach((m,i) => {
            const v = m.querySelector('.value'); const target = Number(v.dataset.target)||0; const format=v.dataset.format||'int';
            const percent = format==='percent' ? Math.max(0, Math.min(100,target)) : Math.min(100,(target/1200000)*100);
            setTimeout(()=>{ animateRing(m.querySelector('.ring'), percent, 900); if(format==='percent') animateCount(v,0,target,900,'percent'); else animateCount(v,0,target,1100,'int'); }, i*120);
          });
        }
        const io = new IntersectionObserver((entries, obs) => { entries.forEach(en=>{ if (en.isIntersecting) { trigger(); obs.disconnect(); } }); }, { threshold: .45 });
        io.observe(metricContainer);
      }

      // init
      window.addEventListener('resize', () => layout());
      layout();
      startAutoplay();
      initRevealOnly();
      initMetrics();
    })();
  </script>
</body>
</html>
